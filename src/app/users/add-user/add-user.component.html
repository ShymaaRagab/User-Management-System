<button (click)="onClickAdd()" class="btn btn-outline-secondary mt-5">Add New User</button>

<div *ngIf="showAddForm" class="w-75 mx-auto">
  <p *ngIf="errorM" class="alert alert-danger text-danger py-2">{{ errorM | json }}</p>
  <form [formGroup]="addUserForm" (ngSubmit)="onAdd(addUserForm)" class="edit_form">

    <label for="fname">First Name:</label>
    <input type="text" id="fname" formControlName="firstName" required class="form-control mb-3" />
    <div *ngIf="addUserForm.get('firstName')?.errors && addUserForm.get('firstName')?.touched">
      <p class="alert text-danger py-1">{{ addUserForm.get('firstName')?.errors | json }}</p>
    </div>

    <label for="lname">Last Name:</label>
    <input type="text" id="lname" formControlName="lastName" required class="form-control mb-3" />
    <div *ngIf="addUserForm.get('lastName')?.errors && addUserForm.get('lastName')?.touched">
      <p class="alert text-danger py-1">{{ addUserForm.get('lastName')?.errors | json }}</p>
    </div>

    <label for="age">Age:</label>
    <input type="number" id="age" formControlName="age" required class="form-control mb-3" />
    <div *ngIf="addUserForm.get('age')?.errors && addUserForm.get('age')?.touched">
      <p class="alert text-danger py-1">{{ addUserForm.get('age')?.errors | json }}</p>
    </div>

    <label for="gender">Gender:</label>
    <select id="gender" formControlName="gender" class="form-control mb-3">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
    <div *ngIf="addUserForm.get('gender')?.errors && addUserForm.get('gender')?.touched">
      <p class="alert text-danger py-1">{{ addUserForm.get('gender')?.errors | json }}</p>
    </div>

    <div formGroupName="company">
      <label for="dept">Department Name:</label>
      <input type="text" id="dept" formControlName="department" required class="form-control mb-3" />
      <div *ngIf="addUserForm.get('company.department')?.errors && addUserForm.get('company.department')?.touched">
        <p class="alert text-danger py-1">{{ addUserForm.get('company.department')?.errors | json }}</p>
      </div>

      <label for="title">Job Title:</label>
      <input type="text" id="title" formControlName="title" required class="form-control mb-3" />
      <div *ngIf="addUserForm.get('company.title')?.errors && addUserForm.get('company.title')?.touched">
        <p class="alert text-danger py-1">{{ addUserForm.get('company.title')?.errors | json }}</p>
      </div>
    </div>

    <label for="role">Role:</label>
    <input type="text" id="role" formControlName="role" required class="form-control mb-3" />
    <div *ngIf="addUserForm.get('role')?.errors && addUserForm.get('role')?.touched">
      <p class="alert text-danger py-1">{{ addUserForm.get('role')?.errors | json }}</p>
    </div>

    <button type="submit" class="btn btn-outline-secondary" [disabled]="addUserForm.invalid">
      ADD
      <span *ngIf="isLoad">....</span>
    </button>
  </form>
</div>
